@model IEnumerable<AmigosAuction.Entities.Auction>

@{
    ViewBag.Title = "Index";
    Layout = "~/Views/Shared/_EntityLayout.cshtml";
}
<br />
<h2 align="center">All Auctions</h2>
<br>
<p class="btn btn-outline-warning">
    @Html.ActionLink("Create New", "Create")
</p>


<div class="card mb-3">
    <div class="card-header">
        <i class="fas fa-table"></i>
        All Auctions Table
    </div>
    <div class="card-body">
        <div class="table-responsive">
            <table class="table table-bordered" id="dataTable" width="100%" cellspacing="0">
                <thead>
                    <tr>
                        <th>Category</th>
                        <th>@Html.DisplayNameFor(model => model.Title)</th>
                        <th>@Html.DisplayNameFor(model => model.Description)</th>
                        <th>@Html.DisplayNameFor(model => model.InitialPrice)</th>
                        <th>@Html.DisplayNameFor(model => model.AuctionStartTime)</th>
                        <th>@Html.DisplayNameFor(model => model.AuctionEndTime)</th>
                        <th>@Html.DisplayNameFor(model => model.AuctionPicture)</th>
                        <th>Action</th>
                    </tr>
                </thead>

                <tbody>
                    @foreach (var item in Model)
                    {
                        <tr>
                            <td>
                                @Html.DisplayFor(modelItem => item.Category.Name)
                            </td>
                            <td>
                                @Html.DisplayFor(modelItem => item.Title)
                            </td>
                            <td>
                                @{
                                    string data = item.Description;
                                    string shortData = data.Substring(0, 20);
                                 }
                                @shortData ...
                            </td>
                            <td>
                                $ @Html.DisplayFor(modelItem => item.InitialPrice)
                            </td>
                            <td>
                                @Html.DisplayFor(modelItem => item.AuctionStartTime)
                            </td>
                            <td>
                                @Html.DisplayFor(modelItem => item.AuctionEndTime)
                            </td>
                            <td>
                                <img class="img-thumbnail" src="@item.AuctionPicture" height="140" width="80" onclick="window.open('@item.AuctionPicture', '_blank');" />
                            </td>
                            <td>
                                @Html.ActionLink("Edit", "Edit", new { id = item.ID }) |
                                @Html.ActionLink("Details", "Detail", new { id = item.ID }) |
                                @Html.ActionLink("Delete", "Delete", new { id = item.ID })
                            </td>
                        </tr>
                    }
                </tbody>

                <tfoot>
                    <tr>
                        <th>Category</th>
                        <th>@Html.DisplayNameFor(model => model.Title)</th>
                        <th>@Html.DisplayNameFor(model => model.Description)</th>
                        <th>@Html.DisplayNameFor(model => model.InitialPrice)</th>
                        <th>@Html.DisplayNameFor(model => model.AuctionStartTime)</th>
                        <th>@Html.DisplayNameFor(model => model.AuctionEndTime)</th>
                        <th>@Html.DisplayNameFor(model => model.AuctionPicture)</th>
                        <th>Action</th>
                    </tr>
                </tfoot>
            </table>
        </div>
    </div>
    <div class="card-footer small text-muted">Updated yesterday at 11:59 PM</div>
</div>



<br />

<script>
    $(function () {
        $('#activeAuction').addClass('active');
    });
</script>
